{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\viincyy\\\\Desktop\\\\ReactJs\\\\fe42reactjs\\\\src\\\\user-management-redux\\\\Modal.js\";\nimport React, { Component } from \"react\";\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        value,\n        name\n      } = event.target; // C1\n      // const state = this.state;\n      // this.setState({\n      //   values: {\n      //     ...state.values,\n      //     [name]: value,\n      //   },\n      // });\n      // C2\n\n      this.setState(state => {\n        return {\n          values: { ...state.values,\n            [name]: value\n          }\n        };\n      });\n    };\n\n    this.handleBlur = event => {\n      const {\n        value,\n        name\n      } = event.target;\n      const errorMessage = this.validate(name, value); // if (errorMessage) {\n\n      this.setState(state => {\n        return {\n          errors: { ...state.errors,\n            [name]: errorMessage\n          }\n        };\n      }); // if (name === \"username\") {\n      //   if (!value) {\n      //     this.setState((state) => {\n      //       return {\n      //         errors: {\n      //           ...state.errors,\n      //           [name]: \"Username không được để trống\",\n      //         },\n      //       };\n      //     });\n      //   }\n      // }\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let isValid = true;\n\n      for (let key in this.state.values) {\n        const errorMessage = this.validate(key, this.state.values[key]);\n\n        if (errorMessage) {\n          isValid = false;\n        }\n\n        this.setState(state => {\n          return {\n            errors: { ...state.errors,\n              [key]: errorMessage\n            }\n          };\n        });\n      }\n\n      if (!isValid) return; // Thêm user\n      // Truyền value(thông tin user ra ngoài index để thêm)\n\n      this.props.onSave(this.state.values);\n    };\n\n    this.validate = (name, value) => {\n      let errorMessage = \"\";\n\n      if (name === \"username\") {\n        errorMessage = !value ? \"Username không được để trống\" : \"\";\n      }\n\n      if (name === \"name\") {\n        errorMessage = !value ? \"Name không được để trống\" : \"\";\n      }\n\n      if (name === \"email\") {\n        if (!value) {\n          errorMessage = \"Email không được để trống\";\n        } else {\n          const isValid = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/.test(value);\n          errorMessage = !isValid ? \"Email không hợp lệ\" : \"\";\n        }\n      }\n\n      if (name === \"phoneNumber\") {\n        errorMessage = !value ? \"phoneNumber không được để trống\" : \"\";\n      }\n\n      return errorMessage;\n    };\n\n    this.state = {\n      values: {\n        id: \"\",\n        username: \"\",\n        name: \"\",\n        email: \"\",\n        phoneNumber: \"\",\n        type: \"USER\"\n      },\n      errors: {\n        id: \"\",\n        username: \"\",\n        name: \"\",\n        email: \"\",\n        phoneNumber: \"\",\n        type: \"\"\n      }\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    /*\n    * Chạy khi props từ component Cha truyền vào thay đổi\n    * UNSAFE_componentWillReceiveProps chỉ chạy khi được viết tại component Con\n    */\n    if (nextProps && nextProps.userEdit) {\n      this.setState({\n        values: { ...this.setState.values,\n          id: nextProps.userEdit.id,\n          username: nextProps.userEdit.username,\n          name: nextProps.userEdit.name,\n          email: nextProps.userEdit.email,\n          phoneNumber: nextProps.userEdit.phoneNumber,\n          type: nextProps.userEdit.type\n        }\n      });\n    } else {\n      this.setState({\n        values: {\n          id: \"\",\n          username: \"\",\n          name: \"\",\n          email: \"\",\n          phoneNumber: \"\",\n          type: \"USER\"\n        }\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"modelIdUser\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-labelledby\": \"modelTitleId\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, this.props.userEdit ? \"EDIT USER\" : \"ADD USER\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 19\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      className: \"form-control\",\n      value: this.state.values.username // onChange={(event) =>\n      //   this.setState({ username: event.target.value })\n      // }\n      ,\n      onChange: event => this.handleChange(event),\n      onBlur: this.handleBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }), this.state.errors.username && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 23\n      }\n    }, this.state.errors.username))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      className: \"form-control\",\n      value: this.state.values.name // onChange={(event) =>\n      //   this.setState({ name: event.target.value })\n      // }\n      ,\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 19\n      }\n    }), this.state.errors.name && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 23\n      }\n    }, this.state.errors.name))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      className: \"form-control\",\n      value: this.state.values.email,\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 19\n      }\n    }), this.state.errors.email && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 23\n      }\n    }, this.state.errors.email))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 19\n      }\n    }, \"phoneNumber Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"phoneNumber\",\n      className: \"form-control\",\n      value: this.state.values.phoneNumber,\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 19\n      }\n    }), this.state.errors.phoneNumber && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 23\n      }\n    }, this.state.errors.phoneNumber))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 19\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"type\",\n      value: this.state.values.type,\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"USER\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 21\n      }\n    }, \"USER\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"VIP\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 21\n      }\n    }, \"VIP\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, \"Submit\"))))));\n  }\n\n}\n\nexport default Modal;","map":{"version":3,"sources":["C:/Users/viincyy/Desktop/ReactJs/fe42reactjs/src/user-management-redux/Modal.js"],"names":["React","Component","Modal","constructor","props","handleChange","event","value","name","target","setState","state","values","handleBlur","errorMessage","validate","errors","handleSubmit","preventDefault","isValid","key","onSave","test","id","username","email","phoneNumber","type","UNSAFE_componentWillReceiveProps","nextProps","userEdit","render","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      values: {\n        id: \"\",\n        username: \"\",\n        name: \"\",\n        email: \"\",\n        phoneNumber: \"\",\n        type: \"USER\",\n      },\n      errors: {\n        id: \"\",\n        username: \"\",\n        name: \"\",\n        email: \"\",\n        phoneNumber: \"\",\n        type: \"\",\n      },\n    }\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    /*\n    * Chạy khi props từ component Cha truyền vào thay đổi\n    * UNSAFE_componentWillReceiveProps chỉ chạy khi được viết tại component Con\n    */\n    if (nextProps && nextProps.userEdit) {\n      this.setState({\n        values: {\n          ...this.setState.values,\n          id: nextProps.userEdit.id,\n          username: nextProps.userEdit.username,\n          name: nextProps.userEdit.name,\n          email: nextProps.userEdit.email,\n          phoneNumber: nextProps.userEdit.phoneNumber,\n          type: nextProps.userEdit.type,\n        }\n      })\n    } else {\n      this.setState({\n        values: {\n          id: \"\",\n          username: \"\",\n          name: \"\",\n          email: \"\",\n          phoneNumber: \"\",\n          type: \"USER\",\n        },\n      })\n    }\n  }\n\n  handleChange = (event) => {\n    const { value, name } = event.target;\n    // C1\n    // const state = this.state;\n    // this.setState({\n    //   values: {\n    //     ...state.values,\n    //     [name]: value,\n    //   },\n    // });\n\n    // C2\n    this.setState((state) => {\n      return {\n        values: {\n          ...state.values,\n          [name]: value,\n        },\n      };\n    });\n  };\n\n  handleBlur = (event) => {\n    const { value, name } = event.target;\n\n    const errorMessage = this.validate(name, value);\n\n    // if (errorMessage) {\n    this.setState((state) => {\n      return {\n        errors: {\n          ...state.errors,\n          [name]: errorMessage,\n        },\n      };\n    });\n\n    // if (name === \"username\") {\n    //   if (!value) {\n    //     this.setState((state) => {\n    //       return {\n    //         errors: {\n    //           ...state.errors,\n    //           [name]: \"Username không được để trống\",\n    //         },\n    //       };\n    //     });\n    //   }\n    // }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let isValid = true;\n    for (let key in this.state.values) {\n      const errorMessage = this.validate(key, this.state.values[key]);\n      if (errorMessage) {\n        isValid = false;\n      }\n      this.setState((state) => {\n        return {\n          errors: {\n            ...state.errors,\n            [key]: errorMessage,\n          },\n        };\n      });\n    }\n\n    if (!isValid) return;\n\n    // Thêm user\n    // Truyền value(thông tin user ra ngoài index để thêm)\n    this.props.onSave(this.state.values);\n  };\n\n  validate = (name, value) => {\n    let errorMessage = \"\";\n\n    if (name === \"username\") {\n      errorMessage = !value ? \"Username không được để trống\" : \"\";\n    }\n    if (name === \"name\") {\n      errorMessage = !value ? \"Name không được để trống\" : \"\";\n    }\n    if (name === \"email\") {\n      if (!value) {\n        errorMessage = \"Email không được để trống\";\n      } else {\n        const isValid = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/.test(value);\n        errorMessage = !isValid ? \"Email không hợp lệ\" : \"\";\n      }\n    }\n    if (name === \"phoneNumber\") {\n      errorMessage = !value ? \"phoneNumber không được để trống\" : \"\";\n    }\n\n    return errorMessage;\n  };\n\n  render() {\n    console.log(this.state);\n    return (\n      <div\n        className=\"modal fade\"\n        id=\"modelIdUser\"\n        tabIndex={-1}\n        role=\"dialog\"\n        aria-labelledby=\"modelTitleId\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">{this.props.userEdit ? \"EDIT USER\" : \"ADD USER\"}</h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              >\n                <span aria-hidden=\"true\">×</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <form>\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    value={this.state.values.username}\n                    // onChange={(event) =>\n                    //   this.setState({ username: event.target.value })\n                    // }\n                    onChange={(event) => this.handleChange(event)}\n                    onBlur={this.handleBlur}\n                  />\n                  {this.state.errors.username && (\n                    <div className=\"alert alert-danger\">\n                      <span>{this.state.errors.username}</span>\n                    </div>\n                  )}\n                </div>\n                <div className=\"form-group\">\n                  <label>Name</label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    className=\"form-control\"\n                    value={this.state.values.name}\n                    // onChange={(event) =>\n                    //   this.setState({ name: event.target.value })\n                    // }\n                    onChange={this.handleChange}\n                    onBlur={this.handleBlur}\n                  />\n                  {this.state.errors.name && (\n                    <div className=\"alert alert-danger\">\n                      <span>{this.state.errors.name}</span>\n                    </div>\n                  )}\n                </div>\n                <div className=\"form-group\">\n                  <label>Email</label>\n                  <input\n                    type=\"text\"\n                    name=\"email\"\n                    className=\"form-control\"\n                    value={this.state.values.email}\n                    onChange={this.handleChange}\n                    onBlur={this.handleBlur}\n                  />\n                  {this.state.errors.email && (\n                    <div className=\"alert alert-danger\">\n                      <span>{this.state.errors.email}</span>\n                    </div>\n                  )}\n                </div>\n                <div className=\"form-group\">\n                  <label>phoneNumber Number</label>\n                  <input\n                    type=\"text\"\n                    name=\"phoneNumber\"\n                    className=\"form-control\"\n                    value={this.state.values.phoneNumber}\n                    onChange={this.handleChange}\n                    onBlur={this.handleBlur}\n                  />\n                  {this.state.errors.phoneNumber && (\n                    <div className=\"alert alert-danger\">\n                      <span>{this.state.errors.phoneNumber}</span>\n                    </div>\n                  )}\n                </div>\n                <div className=\"form-group\">\n                  <label>Type</label>\n                  <select\n                    className=\"form-control\"\n                    name=\"type\"\n                    value={this.state.values.type}\n                    onChange={this.handleChange}\n                    onBlur={this.handleBlur}\n                  >\n                    {/* <option value=\"\">Vui long chon</option> */}\n                    <option value=\"USER\">USER</option>\n                    <option value=\"VIP\">VIP</option>\n                  </select>\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-success\"\n                  onClick={this.handleSubmit}\n                >\n                  Submit\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n"]},"metadata":{},"sourceType":"module"}